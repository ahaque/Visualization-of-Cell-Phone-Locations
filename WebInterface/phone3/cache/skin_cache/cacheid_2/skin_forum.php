<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 2               */
/* CACHE FILE: Generated: Sun, 06 Sep 2009 01:36:56 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_forum_2 {

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	/* Make object */
	$this->registry   =  $registry;
	$this->DB         =  $this->registry->DB();
	$this->settings   =& $this->registry->fetchSettings();
	$this->request    =& $this->registry->fetchRequest();
	$this->lang       =  $this->registry->getClass('class_localization');
	$this->member     =  $this->registry->member();
	$this->memberData =& $this->registry->member()->fetchMemberData();
	$this->cache      =  $this->registry->cache();
	$this->caches     =& $this->registry->cache()->fetchCaches();
}
	/* -- forumAttachments --*/
function forumAttachments($title, $rows) {
$IPBHTML = "";
$IPBHTML .= "<attachments>
	<topic>{$title}</topic>
	<id>{$this->request['tid']}</id>".$this->__f__933237650d4a8662f684dbea1f3358c8($title,$rows)."</attachments>";
return $IPBHTML;
}


function __f__933237650d4a8662f684dbea1f3358c8($title, $rows)
{
	$_ips___x_retval = '';
	foreach( $rows as $data )
	{
		
		$_ips___x_retval .= "
	<attachment>
		<id>{$data['attach_id']}</id>
		<thumbnail>" . (($data['attach_thumb_location']) ? ("{$this->settings['upload_url']}/{$data['attach_thumb_location']}") : ("")) . "</thumbnail>
		<name>{$data['short_name']}</name>
		<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=attach&amp;section=attach&amp;attach_rel_module=post&amp;attach_id={$data['attach_id']}", 'public','' ), "", "" ) . "</url>
		<downloads>{$data['attach_hits']}</downloads>
		<date>{$data['attach_date']}</date>
		<size>{$data['real_size']}</size>
		<post>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=forums&amp;section=findpost&amp;pid={$data['pid']}", 'public','' ), "", "" ) . "</post>		
	</attachment>

";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- forumAttachmentsAjaxWrapper --*/
function forumAttachmentsAjaxWrapper($output) {
$IPBHTML = "";
$IPBHTML .= "{$output}";
return $IPBHTML;
}

/* -- forumIndexTemplate --*/
function forumIndexTemplate($forum_data, $announce_data, $topic_data, $other_data, $multi_mod_data, $sub_forum_data, $footer_filter, $active_user_data, $mod_data, $inforum=1) {
$IPBHTML = "";
$IPBHTML .= "<forum>
		<name>{$forum_data['name']}</name>
		<id>{$forum_data['id']}</id>
		<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum_data['id']}", 'public','' ), "{{$forum_data['name_seo']}", "showforum" ) . "</url>
		
" . (($forum_data['show_rules'] == 2) ? ("
		<rules>
			<title>{$forum_data['rules_title']}</title>
			<text>{$forum_data['rules_text']}</text>
		</rules>
") : ("")) . "
" . (($forum_data['show_rules'] == 1) ? ("
		<rules>
			<title>{$forum_data['rules_title']}</title>
			<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum_data['id']}&amp;act=SR", 'public','' ), "", "" ) . "</url>
		</rules>
") : ("")) . "
" . ((is_array( $sub_forum_data ) AND count( $sub_forum_data )) ? ("
		<subforums>			
	".$this->__f__144649353ce648893716f7827bbc77b5($forum_data,$announce_data,$topic_data,$other_data,$multi_mod_data,$sub_forum_data,$footer_filter,$active_user_data,$mod_data,$inforum)."		</subforums>
") : ("")) . "
" . ((is_array( $announce_data ) AND count( $announce_data )) ? ("
		<announcements>			
	".$this->__f__f4dc9a469886de9b87bb396a6fc4aaee($forum_data,$announce_data,$topic_data,$other_data,$multi_mod_data,$sub_forum_data,$footer_filter,$active_user_data,$mod_data,$inforum)."		</announcements>
") : ("")) . "
		<topics>
" . ((is_array( $topic_data ) AND count( $topic_data )) ? ("".$this->__f__97990ddff21a69f03e447dfb1dedd906($forum_data,$announce_data,$topic_data,$other_data,$multi_mod_data,$sub_forum_data,$footer_filter,$active_user_data,$mod_data,$inforum)."") : ("")) . "
		</topics>
		
		{$forum_data['SHOW_PAGES']}
				
" . ((!$this->settings['no_au_forum']) ? ("<activeusers>
			<total>" . ($active_user_data['members'] + $active_user_data['guests'] + $active_user_data['anon'] ) . "</total>
			<guests>{$active_user_data['guests']}</guests>
			<anonymous>{$active_user_data['anon']}</anonymous>
			<users>
	" . ((is_array( $active_user_data['names'] ) AND count( $active_user_data['names'] )) ? ("".$this->__f__5ee1252556957d1bf16e6ac84e66b099($forum_data,$announce_data,$topic_data,$other_data,$multi_mod_data,$sub_forum_data,$footer_filter,$active_user_data,$mod_data,$inforum)."	") : ("")) . "
		</users>") : ("")) . "	
		</activeusers>
	</forum>";
return $IPBHTML;
}


function __f__d7546c17e8e4c7fdde16fd3c2fde8dcb($forum_data, $announce_data, $topic_data, $other_data, $multi_mod_data, $sub_forum_data, $footer_filter, $active_user_data, $mod_data, $inforum=1,$_data='',$forum_id='',$forum_data='')
{
	$_ips___x_retval = '';
	foreach( $_data['forum_data'] as $forum_id => $forum_data )
	{
		
		$_ips___x_retval .= "
			<forum>
				<id>{$forum_data['id']}</id>
				<name>{$forum_data['name']}</name>
				<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum_data['id']}", 'public','' ), "{$forum_data['name_seo']}", "showforum" ) . "</url>
				<description>{$forum_data['description']}</description>
					" . (($forum_data['redirect_on']) ? ("							
				<type>redirect</type>
					") : ("<type>{$forum_data['status']}</type>
				<topics>{$forum_data['topics']}</topics>
				<replies>{$forum_data['posts']}</replies>						
				<lastpost>
						" . (($forum_data['hide_last_info']) ? ("
					<name>{$this->lang->words['f_protected']}</name>
						") : ("<date>{$forum_data['last_post']}</date>
					<name>{$forum_data['last_title']}</name>
					<id>{$forum_data['last_id']}</id>
					<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$forum_data['last_id']}&amp;view=getlastpost", 'public','' ), "{$forum_data['seo_last_title']}", "showtopic" ) . "</url>
					<user>
							" . (($forum_data['last_poster_id']) ? ("						
						<id>{$forum_data['last_poster_id']}</id>
						<name>{$forum_data['last_poster_name']}</name>
						<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$forum_data['last_poster_id']}", 'public','' ), "{$forum_data['seo_last_name']}", "showuser" ) . "</url>										
							") : ("
						<id>0</id>
						<name>{$this->settings['guest_name_pre']}{$forum_data['last_poster_name']}{$this->settings['guest_name_suf']}</name>
						<url></url>
							")) . "
					</user>")) . "
				</lastpost>")) . "
			</forum>
				
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

function __f__fb1ee59bf12dd32992a47afc5e7072c5($forum_data, $announce_data, $topic_data, $other_data, $multi_mod_data, $sub_forum_data, $footer_filter, $active_user_data, $mod_data, $inforum=1,$_data='')
{
	$_ips___x_retval = '';
	foreach( $_data['forum_data'] as $forum_id => $forum_data )
	{
		
		$_ips___x_retval .= "
				".$this->__f__d7546c17e8e4c7fdde16fd3c2fde8dcb($forum_data,$announce_data,$topic_data,$other_data,$multi_mod_data,$sub_forum_data,$footer_filter,$active_user_data,$mod_data,$inforum,$_data,$forum_id,$forum_data)."			
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

function __f__144649353ce648893716f7827bbc77b5($forum_data, $announce_data, $topic_data, $other_data, $multi_mod_data, $sub_forum_data, $footer_filter, $active_user_data, $mod_data, $inforum=1)
{
	$_ips___x_retval = '';
	foreach( $sub_forum_data as $_data )
	{
		
		$_ips___x_retval .= "
		" . ((is_array( $_data['forum_data'] ) AND count( $_data['forum_data'] )) ? ("					
			".$this->__f__fb1ee59bf12dd32992a47afc5e7072c5($forum_data,$announce_data,$topic_data,$other_data,$multi_mod_data,$sub_forum_data,$footer_filter,$active_user_data,$mod_data,$inforum,$_data)."		") : ("")) . "
	
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

function __f__f4dc9a469886de9b87bb396a6fc4aaee($forum_data, $announce_data, $topic_data, $other_data, $multi_mod_data, $sub_forum_data, $footer_filter, $active_user_data, $mod_data, $inforum=1)
{
	$_ips___x_retval = '';
	foreach( $announce_data as $aid => $adata )
	{
		
		$_ips___x_retval .= "
			<announcement>
				<id>{$adata['announce_id']}</id>
				<title>{$adata['announce_title']}</title>
				<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showannouncement={$adata['announce_id']}&amp;f={$forum_data['id']}", 'public','' ), "%%{$adata['announce_title']}%%", "showannouncement" ) . "</url>
				<user>
					<id>{$adata['member_id']}</id>
					<name>{$adata['member_name']}</name>
					<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$adata['member_id']}", 'public','' ), "{$adata['members_seo_name']}", "showuser" ) . "</url>
				</user>
			</announcement>
	
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

function __f__66d11ccf560c75b18f3fdac455e9b67c($forum_data, $announce_data, $topic_data, $other_data, $multi_mod_data, $sub_forum_data, $footer_filter, $active_user_data, $mod_data, $inforum=1,$tid='',$data='')
{
	$_ips___x_retval = '';
	foreach( $data['pages'] as $page )
	{
		
		$_ips___x_retval .= "
				<page>					
					<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$data['tid']}&amp;st={$page['st']}", 'public','' ), "{$data['title_seo']}", "showtopic" ) . "</url>
					<number>{$page['page']}</number>
				</page>
			
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

function __f__97990ddff21a69f03e447dfb1dedd906($forum_data, $announce_data, $topic_data, $other_data, $multi_mod_data, $sub_forum_data, $footer_filter, $active_user_data, $mod_data, $inforum=1)
{
	$_ips___x_retval = '';
	foreach( $topic_data as $tid => $data )
	{
		
		$_ips___x_retval .= "
			<topic>
				<id>{$data['tid']}</id>
				<icon>{$data['folder_img']}</icon>
				<title>{$data['title']}</title>
				<description>{$data['description']}</description>
				<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$data['tid']}", 'public','' ), "{$data['title_seo']}", "showtopic" ) . "</url>
				<user>
					<id>{$data['starter_id']}</id>
					<name>{$data['starter_name']}</name>
					<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$data['starter_id']}", 'public','' ), "{$data['seo_first_name']}", "showuser" ) . "</url>
				</user>
				<replies>{$data['_posts']}</replies>
				<views>{$data['views']}</views>
				<lastpost>
					<date>{$data['last_post']}</date>
					<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$data['tid']}&amp;view=getlastpost", 'public','' ), "{$data['title_seo']}", "showtopic" ) . "</url>
					<user>
						<id>{$data['last_poster_id']}</id>
						<name>{$data['last_poster_name']}</name>
						<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$data['last_poster_id']}", 'public','' ), "{$data['seo_last_name']}", "showuser" ) . "</url>
					</user>
				</lastpost>
		" . (($data['topic_hasattach']) ? ("
				<attachments>
					<url>{$this->settings['base_url']}app=forums&amp;module=forums&amp;section=attach&amp;tid={$data['tid']}</url>
					<count>" . intval($data['topic_hasattach']) . "</count>
				</attachments>
		") : ("")) . "
		" . ((is_array( $data['pages'] ) AND count( $data['pages'] )) ? ("
			<pagination>
			".$this->__f__66d11ccf560c75b18f3fdac455e9b67c($forum_data,$announce_data,$topic_data,$other_data,$multi_mod_data,$sub_forum_data,$footer_filter,$active_user_data,$mod_data,$inforum,$tid,$data)."		</pagination>
		") : ("")) . "		
			</topic>
	
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

function __f__5ee1252556957d1bf16e6ac84e66b099($forum_data, $announce_data, $topic_data, $other_data, $multi_mod_data, $sub_forum_data, $footer_filter, $active_user_data, $mod_data, $inforum=1)
{
	$_ips___x_retval = '';
	foreach( $active_user_data['names'] as $p => $r )
	{
		
		$_ips___x_retval .= "
				<user>
					<id>{$r['id']}</id>
					<name>{$r['p_start']}{$r['name']}{$r['p_end']}</name>
					<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$r['id']}", 'public','' ), "{$r['seo']}", "showuser" ) . "</url>
				</user>
		
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- forumPasswordLogIn --*/
function forumPasswordLogIn($fid="") {
$IPBHTML = "";
$IPBHTML .= "<forum>
	<error>This is a password-protected forum</error>
</forum>";
return $IPBHTML;
}

/* -- show_rules --*/
function show_rules($rules="") {
$IPBHTML = "";
$IPBHTML .= "";
return $IPBHTML;
}

/* -- topic_rating_image --*/
function topic_rating_image($rating_id=1) {
$IPBHTML = "";
$IPBHTML .= "";
return $IPBHTML;
}

/* -- topicPrefixWrap --*/
function topicPrefixWrap($text) {
$IPBHTML = "";
$IPBHTML .= "" . (($text) ? ("
	<prefix>{$text}</prefix>
") : ("")) . "";
return $IPBHTML;
}

/* -- who_link --*/
function who_link($tid="",$posts="") {
$IPBHTML = "";
$IPBHTML .= "";
return $IPBHTML;
}



}

/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>