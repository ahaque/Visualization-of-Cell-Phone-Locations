<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 2               */
/* CACHE FILE: Generated: Sun, 06 Sep 2009 01:36:56 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_boards_2 {

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	/* Make object */
	$this->registry   =  $registry;
	$this->DB         =  $this->registry->DB();
	$this->settings   =& $this->registry->fetchSettings();
	$this->request    =& $this->registry->fetchRequest();
	$this->lang       =  $this->registry->getClass('class_localization');
	$this->member     =  $this->registry->member();
	$this->memberData =& $this->registry->member()->fetchMemberData();
	$this->cache      =  $this->registry->cache();
	$this->caches     =& $this->registry->cache()->fetchCaches();
}
	/* -- birthday --*/
function birthday($user, $pyear) {
$IPBHTML = "";
$IPBHTML .= "<birthday>
	" . (($pyear) ? ("<year>$pyear</year>") : ("")) . "
	<user>
		<id>{$user['member_id']}</id>
		<name>{$user['members_display_name']}</name>
		<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$user['member_id']}", 'public','' ), "", "" ) . "</url>		
	</user>
</birthday>";
return $IPBHTML;
}

/* -- boardIndexTemplate --*/
function boardIndexTemplate($lastvisit="", $stats=array(), $calendar_events=FALSE, $birthdays=FALSE, $chat_html='', $news_data=array(), $cat_data=array(), $show_side_blocks=true, $side_blocks=array()) {
$IPBHTML = "";
$IPBHTML .= "" . ((is_array( $cat_data ) AND count( $cat_data )) ? ("
		<categories>
		".$this->__f__baf5f3ce3442a07444a8d9db66838d86($lastvisit,$stats,$calendar_events,$birthdays,$chat_html,$news_data,$cat_data,$show_side_blocks,$side_blocks)."		</categories>
	") : ("")) . "
		<statistics>
			<posts>{$stats['info']['total_posts']}</posts>
			<members>{$stats['info']['mem_count']}</members>
			<user>
				<id>{$stats['info']['last_mem_id']}</id>
				<name>{$stats['info']['last_mem_name']}</name>
				<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$stats['info']['last_mem_link']}", 'public','' ), "%%{$stats['info']['last_mem_name']}%%", "showuser" ) . "</url>
			</user>
			<onlinerecord>{$stats['info']['most_online']}</onlinerecord>
		</statistics>
		<activeusers>
			<total>{$stats['TOTAL']}</total>
			<guests>{$stats['GUESTS']}</guests>
			<anonymous>{$stats['ANON']}</anonymous>
			<users>" . implode( ",", count($stats['NAMES']) ? $stats['NAMES'] : array() ) . "</users>
		</activeusers>
		<events>
			" . ((is_array( $calendar_events )) ? ("" . implode( ",", count($calendar_events) ? $calendar_events : array() ) . "") : ("
				$calendar_events
			")) . "
		</events>
		<birthdays>
		" . (($birthdays !== FALSE AND is_array( $birthdays ) AND count( $birthdays )) ? ("
			<total>{$birthdays['count']}</total>
			<users>" . implode( ",", count($birthdays['users']) ? $birthdays['users'] : array() ) . "</users>
		") : ("")) . "
		</birthdays>";
return $IPBHTML;
}


function __f__6c75d14ffbe3195feb6562aee7871376($lastvisit="", $stats=array(), $calendar_events=FALSE, $birthdays=FALSE, $chat_html='', $news_data=array(), $cat_data=array(), $show_side_blocks=true, $side_blocks=array(),$_data='',$forum_id='',$forum_data='')
{
	$_ips___x_retval = '';
	foreach( $forum_data['subforums'] as $__id => $__data )
	{
		
		$_ips___x_retval .= "
							<subforum>
								<id>{$__data[0]}</id>
								<name>{$__data[1]}</name>
								<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum=", 'public','' ), "{$__data[2]}", "showforum" ) . "</url>
							</subforum>
											
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

function __f__5134c0bc285016aaa40816ca3ef0cfad($lastvisit="", $stats=array(), $calendar_events=FALSE, $birthdays=FALSE, $chat_html='', $news_data=array(), $cat_data=array(), $show_side_blocks=true, $side_blocks=array(),$_data='')
{
	$_ips___x_retval = '';
	foreach( $_data['forum_data'] as $forum_id => $forum_data )
	{
		
		$_ips___x_retval .= "
					<forum>
						<id>{$forum_data['id']}</id>
						<name>{$forum_data['name']}</name>
						<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum_data['id']}", 'public','' ), "{$forum_data['name_seo']}", "showforum" ) . "</url>
						<description><![CDATA[{$forum_data['description']}]]></description>
							" . (($forum_data['redirect_on']) ? ("							
						<type>redirect</type>
							") : ("<type>{$forum_data['status']}</type>
						<topics>{$forum_data['topics']}</topics>
						<replies>{$forum_data['posts']}</replies>
						<lastpost>
								" . (($forum_data['hide_last_info']) ? ("
							<name>{$this->lang->words['f_protected']}</name>
								") : ("<date>{$forum_data['last_post']}</date>
							<name>{$forum_data['last_title']}</name>
							<id>{$forum_data['last_id']}</id>
							<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$forum_data['last_id']}&amp;view=getlastpost", 'public','' ), "{$forum_data['seo_last_title']}", "showtopic" ) . "</url>
							<user>
								" . (($forum_data['last_poster_id']) ? ("						
								<id>{$forum_data['last_poster_id']}</id>
								<name>{$forum_data['last_poster_name']}</name>
								<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$forum_data['last_poster_id']}", 'public','' ), "{$forum_data['seo_last_name']}", "showuser" ) . "</url>										
									") : ("
								<id>0</id>
								<name>{$this->settings['guest_name_pre']}{$forum_data['last_poster_name']}{$this->settings['guest_name_suf']}</name>
								<url></url>
								")) . "
							</user>")) . "
						</lastpost>")) . "					
										" . (($forum_data['show_subforums'] AND count( $forum_data['subforums'] ) AND $forum_data['show_subforums']) ? ("
						<subforums>
											".$this->__f__6c75d14ffbe3195feb6562aee7871376($lastvisit,$stats,$calendar_events,$birthdays,$chat_html,$news_data,$cat_data,$show_side_blocks,$side_blocks,$_data,$forum_id,$forum_data)."						</subforums>
										") : ("")) . "
					</forum>
						
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

function __f__baf5f3ce3442a07444a8d9db66838d86($lastvisit="", $stats=array(), $calendar_events=FALSE, $birthdays=FALSE, $chat_html='', $news_data=array(), $cat_data=array(), $show_side_blocks=true, $side_blocks=array())
{
	$_ips___x_retval = '';
	foreach( $cat_data as $_data )
	{
		
		$_ips___x_retval .= "
			" . ((is_array( $_data['forum_data'] ) AND count( $_data['forum_data'] )) ? ("
			<category>
				<id>{$_data['cat_data']['id']}</id>
				<name>{$_data['cat_data']['name']}</name>
				<url>" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$_data['cat_data']['id']}", 'public','' ), "{$_data['cat_data']['name_seo']}", "showforum" ) . "</url>
				<forums>
						".$this->__f__5134c0bc285016aaa40816ca3ef0cfad($lastvisit,$stats,$calendar_events,$birthdays,$chat_html,$news_data,$cat_data,$show_side_blocks,$side_blocks,$_data)."				</forums>
			</category>
			") : ("")) . "
		
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- hookBoardIndexStatusUpdates --*/
function hookBoardIndexStatusUpdates($rows) {
$IPBHTML = "";

$this->registry->templateStriping['recent_status'] = array( FALSE, "row1","row2 altrow");
$IPBHTML .= "<script type='text/javascript'>
var _hC = 0;
function statusHookClick(o)
{
	if ( ! _hC )
	{
		o.value = '';
		o.setStyle( { color: 'black' } );
		_hC++;
	}
}
</script>
<div class='general_box clearfix'>
	<h3><img src='{$this->settings['img_url']}/user_comment.png' alt='{$this->lang->words['icon']}' /> {$this->lang->words['recent_status_updates']}</h3>
	" . (($this->memberData['member_id'] AND $this->memberData['g_mem_info'] AND ! $this->memberData['gbw_no_status_update']) ? ("
		<form id='update_status_form' action='{$this->settings['base_url']}app=members&amp;module=profile&amp;section=status' method='post'>
			<fieldset>
				<input type='hidden' name='k' value='{$this->member->form_hash}' />
				<input type='hidden' name='rurl' value='" . base64_encode('act=idx') . "' />
			</fieldset>
			<p style='padding-top:4px;padding-bottom:6px'><span class='left' style='margin-right: 5px;margin-top:-2px'><img src='{$this->memberData['pp_mini_photo']}' width='{$this->memberData['pp_mini_width']}' height='{$this->memberData['pp_mini_height']}' class='photo' alt=\"{$this->memberData['members_display_name']}{$this->lang->words['users_photo']}\" /></span><input type='text' class='input_text' size='30' maxlength='150' style='color:gray' value=\"{$this->lang->words['update_status_default']}\" onclick='statusHookClick(this)' name='new_status' /> <input type='submit' class='input_submit' value=' &raquo; ' /></p>
		</form>
	") : ("")) . "
	<ul class='hfeed block_list'>
		" . ((is_array( $rows ) && count( $rows )) ? ("
						".$this->__f__774888062f775845bc0bdab50062ea4c($rows)."		") : ("
			<li>{$this->lang->words['norecent_status_updates']}</li>
		")) . "
	</ul>
	
</div>";
return $IPBHTML;
}


function __f__774888062f775845bc0bdab50062ea4c($rows)
{
	$_ips___x_retval = '';
	foreach( $rows as $r )
	{
		
		$_ips___x_retval .= "
				<li class='hentry " .  IPSLib::next( $this->registry->templateStriping["recent_status"] ) . "'>
					<span class='left' style='margin-right: 5px;'><img src='{$r['pp_mini_photo']}' width='{$r['pp_mini_width']}' height='{$r['pp_mini_height']}' class='photo' alt=\"{$r['members_display_name']}{$this->lang->words['users_photo']}\" /></span><address class=\"author vcard\"><a class=\"url fn\" href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$r['pp_member_id']}", 'public','' ), "{$r['members_seo_name']}", "showuser" ) . "\" title='{$this->lang->words['view_profile']}'>{$r['members_display_name']}</a></address>" . $this->registry->getClass('output')->getTemplate('global')->user_popup($r['pp_member_id'], $r['members_seo_name']) . "<strong> {$r['pp_status']}</strong><br />
					<span class='date'><abbr class=\"published\" title=\"" . date( 'c', $r['pp_status_update'] ) . "\">" . $this->registry->getClass('class_localization')->getDate($r['pp_status_update'],"short", 0) . "</abbr></span>
				</li>
			
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- hookRecentBlogEntries --*/
function hookRecentBlogEntries($entries) {
$IPBHTML = "";

$this->registry->templateStriping['recent_entries'] = array( FALSE, "row1","row2 altrow");
$IPBHTML .= "<div class='general_box clearfix'>
		<h3><img src='{$this->settings['img_url']}/comment_new.png' alt='{$this->lang->words['icon']}' /> {$this->lang->words['recently_added_entries']}</h3>
		<ul class='hfeed block_list'>
			" . ((is_array( $entries ) && count( $entries )) ? ("
								".$this->__f__ab5acf79ffa5161d689713b4382bdf84($entries)."			") : ("
				<li>{$this->lang->words['norecent_entries_hook']}</li>
			")) . "
		</ul>
	</div>";
return $IPBHTML;
}


function __f__ab5acf79ffa5161d689713b4382bdf84($entries)
{
	$_ips___x_retval = '';
	foreach( $entries as $r )
	{
		
		$_ips___x_retval .= "
				<li class='hentry " .  IPSLib::next( $this->registry->templateStriping["recent_entries"] ) . "'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;blogid={$r['blog_id']}&amp;showentry={$r['entry_id']}", 'public','' ), "{$r['_seo_entry_name']}", "showentry" ) . "' rel='bookmark' title='{$this->lang->words['view_entry']}'>{$r['entry_name']}</a> {$this->lang->words['recent_by']} <address class=\"author vcard\"><a class=\"url fn\" href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$r['entry_author_id']}", 'public','' ), "{$r['members_seo_name']}", "showuser" ) . "\" title='{$this->lang->words['view_profile']}'>{$r['members_display_name']}</a>" . $this->registry->getClass('output')->getTemplate('global')->user_popup($r['entry_author_id'], $r['members_seo_name']) . "</address><br /><span class='date'><abbr class=\"published\" title=\"" . date( 'c', $r['entry_date'] ) . "\">" . $this->registry->getClass('class_localization')->getDate($r['entry_date'],"short", 0) . "</abbr></span></li>
				
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- hookRecentGalleryImages --*/
function hookRecentGalleryImages($rows) {
$IPBHTML = "";
$IPBHTML .= "<div class='maintitle'>{$this->lang->words['recent_gallery_images']}</div>
<div id='attach_wrap' class='rounded clearfix'>
	<ul>
	".$this->__f__83677f367846caeb7002f1f27d1222aa($rows)."	</ul>
</div>
<br style='clear:both;' />";
return $IPBHTML;
}


function __f__83677f367846caeb7002f1f27d1222aa($rows)
{
	$_ips___x_retval = '';
	foreach( $rows as $r )
	{
		
		$_ips___x_retval .= "
		<li>{$r['_image']}</li>
	
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- hookRecentTopics --*/
function hookRecentTopics($topics) {
$IPBHTML = "";
$IPBHTML .= "";
return $IPBHTML;
}

/* -- hookTopPosters --*/
function hookTopPosters($posters) {
$IPBHTML = "";
$IPBHTML .= "";
return $IPBHTML;
}

/* -- hookWatchedItems --*/
function hookWatchedItems($updatedTopics, $nUpdatedTopics, $updatedForums, $nUpdatedForums) {
$IPBHTML = "";
$IPBHTML .= "";
return $IPBHTML;
}

/* -- whoschatting_empty --*/
function whoschatting_empty() {
$IPBHTML = "";
$IPBHTML .= "";
return $IPBHTML;
}

/* -- whoschatting_show --*/
function whoschatting_show($total="",$names="") {
$IPBHTML = "";
$IPBHTML .= "";
return $IPBHTML;
}



}

/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>