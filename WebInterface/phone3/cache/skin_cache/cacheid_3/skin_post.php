<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 3               */
/* CACHE FILE: Generated: Sun, 06 Sep 2009 04:32:25 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_post_3 {

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	/* Make object */
	$this->registry   =  $registry;
	$this->DB         =  $this->registry->DB();
	$this->settings   =& $this->registry->fetchSettings();
	$this->request    =& $this->registry->fetchRequest();
	$this->lang       =  $this->registry->getClass('class_localization');
	$this->member     =  $this->registry->member();
	$this->memberData =& $this->registry->member()->fetchMemberData();
	$this->cache      =  $this->registry->cache();
	$this->caches     =& $this->registry->cache()->fetchCaches();
}
	/* -- attachiFrame --*/
function attachiFrame($JSON, $id) {
$IPBHTML = "";
$IPBHTML .= "";
return $IPBHTML;
}

/* -- errors --*/
function errors($data="") {
$IPBHTML = "";
$IPBHTML .= "<p class='message error'>
	{$data}
</p>
<br />";
return $IPBHTML;
}

/* -- pollBox --*/
function pollBox($max_poll_questions="",$max_poll_choices="",$poll_questions="",$poll_choices="",$poll_votes="",$show_open="",$poll_question="",$is_mod=0,$poll_multi="",$poll_only='', $poll_view_voters='', $total_votes=0) {
$IPBHTML = "";
$IPBHTML .= "" . (($poll_questions != '[]' || $poll_choices != '[]' || $poll_votes != '[]' || $poll_multi != '[]') ? ("
	<div class='message unspecific'>
		You cannot add or edit topic polls using the Lo Fi theme.
	</div>
") : ("")) . "";
return $IPBHTML;
}

/* -- postFormTemplate --*/
function postFormTemplate($formData=array(), $form = array()) {
$IPBHTML = "";
$IPBHTML .= "<div class='post_form'>
	<form id='postingform' action='{$this->settings['base_url']}' method='post' enctype='multipart/form-data'>
	<input type='hidden' name='st' value='{$this->request['st']}' />
	<input type='hidden' name='app' value='forums' />
	<input type='hidden' name='module' value='post' />
	<input type='hidden' name='section' value='post' />
	<input type='hidden' name='do' value='{$form['doCode']}' />
	<input type='hidden' name='s' value='{$this->member->session_id}' />
	<input type='hidden' name='p' value='{$form['p']}' />
	<input type='hidden' name='t' value='{$form['t']}' />
	<input type='hidden' name='f' value='{$form['f']}' />
	<input type='hidden' name='parent_id' value='{$form['parent']}' />
	<input type='hidden' name='attach_post_key' value='{$form['attach_post_key']}' />
	<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
	<input type='hidden' name='removeattachid' value='0' />
	
<!--FORUM RULES--><br />
<h2 class='maintitle'>{$formData['title']}</h2>
<!--SKINNOTE: Not semantic to have an empty list here for styling purposes :P -->
<div class='generic_bar'></div>
" . ((! $this->memberData['member_id']) ? ("<fieldset>
	<h3 class='bar'>{$this->lang->words['guest_name_title']}</h3>
	<ul>
		<li class='field'>
			<label for='username'>{$this->lang->words['guest_name']}</label>
			<input type='text' name='UserName' id='username' size='50' value='{$this->request['UserName']}' maxlength=\"{$this->settings['max_user_name_length']}\" class='input_text' tabindex='0' />
		</li>
		" . (($formData['captchaHTML']) ? ("
		<li class='field'>
			<label for='guest_captcha'>{$this->lang->words['guest_captcha']}</label>
			{$formData['captchaHTML']}
		</li>
		") : ("")) . "
	</ul>
</fieldset>") : ("")) . "
" . (($formData['formType'] == 'new' OR ( $formData['formType'] == 'edit' AND $formData['canEditTitle'] )) ? ("
	<fieldset>
		<h3 class='bar'>{$this->lang->words['topic_information']}</h3>
		<ul>
			<li class='field'>
				<label for='topic_title'>{$this->lang->words['topic_title']}</label>
				<input id='topic_title' class='input_text' type=\"text\" size=\"50\" maxlength=\"{$this->settings['topic_title_max_len']}\" name=\"TopicTitle\" value=\"{$formData['topicTitle']}\" tabindex=\"0\" />
			</li>
			<li class='field'>
				<label for='topic_desc'>{$this->lang->words['topic_desc']}</label>
				<input id='topic_desc' class='input_text' type=\"text\" size=\"50\" maxlength=\"70\" name=\"TopicDesc\" value=\"{$formData['topicDesc']}\" tabindex=\"0\" />
				<span class='desc'>{$this->lang->words['post_optional']}</span>
			</li>
		</ul>
	</fieldset>
") : ("")) . "
" . (($formData['pollBoxHTML']) ? ("
	<fieldset id='poll_fieldset' style='display: none'>
		<h3 class='bar'>{$this->lang->words['topic_poll_title']}</h3>
		{$formData['pollBoxHTML']}
	</fieldset>
") : ("")) . "
<fieldset>
	<h3 class='bar'>" . (($formData['formType'] == 'new' OR ( $formData['formType'] == 'edit' AND $formData['canEditTitle'] )) ? ("{$this->lang->words['topic']}") : ("{$this->lang->words['post']}")) . "</h3>
	" . ((is_array($formData['statusMsg']) AND count($formData['statusMsg']) AND strlen($formData['statusMsg'][0])) ? ("
		<div class='message'>" . implode( '<br />', $formData['statusMsg']) . "</div>
	") : ("")) . "
	{$formData['editor']}
</fieldset>
" . (($formData['uploadForm']) ? ("
<fieldset class='attachments'>
	{$formData['uploadForm']}
</fieldset>
") : ("")) . "
<fieldset id='post_options' class='with_subhead'>
	<h3 class='bar'>{$this->lang->words['options']}</h3>
		
	<div id='post_options_options'>
		<h4>{$this->lang->words['post_options']}</h4>
		<ul>
			" . ((is_array( $formData['checkBoxes']['html'] ) AND count( $formData['checkBoxes']['html'] )) ? ("
				<li class='field'>
					<select name=\"post_htmlstatus\" class=\"input_select\">
						<option value=\"0\"{$formData['checkBoxes']['html'][0]}>{$this->lang->words['pp_nohtml']}</option>
						<option value=\"1\"{$formData['checkBoxes']['html'][1]}>{$this->lang->words['pp_html1']}</option>
						<option value=\"2\"{$formData['checkBoxes']['html'][2]}>{$this->lang->words['pp_html2']}</option>
					</select>
				</li>
			") : ("")) . "
				<li class='field checkbox'>
					<input type=\"checkbox\" name=\"enableemo\" class=\"input_check\" value=\"yes\" id='enable_emo' {$formData['checkBoxes']['emo']} />
					<label for='enable_emo'>{$this->lang->words['enable_emo']}</label>
				</li>
			" . (($this->memberData['member_id']) ? ("<li class='field checkbox'>
					<input type=\"checkbox\" name=\"enablesig\" class=\"input_check\" value=\"yes\" id='enable_sig' {$formData['checkBoxes']['sig']} />
					<label for='enable_sig'>{$this->lang->words['enable_sig']}</label>
				</li>
				" . (($formData['checkBoxes']['tra'] == '-tracking') ? ("
					<li class='field'><span class='desc'>{$this->lang->words['already_sub']}</span><li>
				") : ("<li class='field checkbox'>
						<input type=\"checkbox\" name=\"enabletrack\" class=\"input_check\" id='enable_track' value=\"1\" " . (($this->memberData['auto_track']) ? ("checked='checked'") : ("")) . " />
						<label for='enable_track'>{$this->lang->words['enable_track']}</label>
					</li>")) . "") : ("")) . "
		</ul>
		<hr />
	" . (($formData['extraData']['showEditOptions']) ? ("<h4>{$this->lang->words['edit_options']}</h4>
		<ul>
			<li class='field checkbox'>
				<input type=\"checkbox\" name=\"add_edit\" value=\"1\" id='append_edit' {$formData['extraData']['checked']} class=\"input_check\" />
				<label for='append_edit'>{$this->lang->words['append_edit']}</label>
			</li>
			" . (($formData['extraData']['showReason']) ? ("
			<li class='field'>
				<label for='post_edit_reason'>{$this->lang->words['reason_for_edit']}</label><br />
				<input type=\"input\" name=\"post_edit_reason\" id='post_edit_reason' value=\"{$formData['extraData']['reasonForEdit']}\" size='40' maxlength='250' class='input_text' />
			</li>
			") : ("")) . "
		</ul>
		<hr />") : ("")) . "
	" . (($formData['modOptionsData']['dropDownOptions'] != "") ? ("
		<h4>{$this->lang->words['mod_options']}</h4>
		<ul>
			<li class='field'>{$formData['modOptionsData']['dropDownOptions']}</select></li>
		</ul>
		<hr />
	") : ("")) . "
	</div>
	
	<span id='toggle_post_options' class='clickable'></span>
</fieldset>
<fieldset class='submit'>
	<input type=\"submit\" name=\"dosubmit\" value=\"{$formData['buttonText']}\" tabindex=\"0\" class=\"input_submit\" accesskey=\"s\"  />&nbsp;
	<input type=\"submit\" name=\"preview\" value=\"{$this->lang->words['button_preview']}\" tabindex=\"0\" class=\"input_submit alt\" />
	{$this->lang->words['or']} " . (($form['t']) ? ("
			<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$form['t']}", 'public','' ), "{$formData['seoTopic']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel' tabindex='0'>{$this->lang->words['cancel']}</a>
		") : ("
			<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$form['f']}", 'public','' ), "{$formData['seoForum']}", "showforum" ) . "' title='{$this->lang->words['cancel']}' class='cancel' tabindex='0'>{$this->lang->words['cancel']}</a>
		")) . "
</fieldset>

</form>
</div>	
{$formData['topicSummary'][0]['html']}";
return $IPBHTML;
}

/* -- preview --*/
function preview($data="") {
$IPBHTML = "";
$IPBHTML .= "<!-- SKINNOTE: Needs code updating -->
" . (($data AND trim($data) != '<br />' AND trim($data) != '<br>') ? ("
	<h2 class='maintitle'>{$this->lang->words['post_preview']}</h2>
	<div class='post_wrap' id='post_preview'>
		<div class='row2' style='padding:8px'>
			<div class='post entry-content'>{$data}</div>
		</div>
	</div>
	<br />
") : ("")) . "";
return $IPBHTML;
}

/* -- topicSummary --*/
function topicSummary($posts=array()) {
$IPBHTML = "";
$IPBHTML .= "<br /><br />
<h2 class='maintitle'>{$this->lang->words['topic_summary']}</h2>
<div class='generic_bar'></div>
<div id='topic_summary'>
" . ((is_array( $posts ) AND count( $posts )) ? ("
	".$this->__f__7c6b90d12f87d01b73ebcd62078bbe32($posts)."") : ("")) . "
<p class='submit'>
	<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$this->request['t']}", 'public','' ), "", "" ) . "' title='{$this->lang->words['review_topic']}' id='review_topic'>{$this->lang->words['review_topic']}</a>
</p>
</div>";
return $IPBHTML;
}


function __f__7c6b90d12f87d01b73ebcd62078bbe32($posts=array())
{
	$_ips___x_retval = '';
	foreach( $posts as $pid => $data )
	{
		
		$_ips___x_retval .= "
		<div class='post_block topic_summary'>
			" . (($data['member_id']) ? ("
				<h3><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$data['member_id']}", 'public','' ), "{$data['members_seo_name']}", "showuser" ) . "'>{$data['author']}</a>" . $this->registry->getClass('output')->getTemplate('global')->user_popup($data['member_id'],$data['members_seo_name']) . "</h3>
			") : ("
				<h3>{$data['author']}</h3>
			")) . "
			<p class='posted_info'>{$this->lang->words['summary_posted']} {$data['date']}</p>
			<div class='post_body'>
				" . ((isset( $data['_ignored'] ) && $data['_ignored'] == 1) ? ("
					<div class='post'>{$this->lang->words['ignore_first_line']} {$data['members_display_name']}.</div>
				") : ("
					<div class=\"post\">{$data['post']}</div>
				")) . "
			</div>
		</div>
	
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- uploadForm --*/
function uploadForm($post_key="",$type="",$stats=array(),$id="",$forum_id=0) {
$IPBHTML = "";
$IPBHTML .= "<div class='message unspecific'>
	You cannot manage attachments using the Lo Fi theme
</div>";
return $IPBHTML;
}



}

/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>