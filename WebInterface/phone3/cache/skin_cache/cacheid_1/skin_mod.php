<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 1               */
/* CACHE FILE: Generated: Sun, 06 Sep 2009 04:32:03 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_mod_1 {

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	/* Make object */
	$this->registry   =  $registry;
	$this->DB         =  $this->registry->DB();
	$this->settings   =& $this->registry->fetchSettings();
	$this->request    =& $this->registry->fetchRequest();
	$this->lang       =  $this->registry->getClass('class_localization');
	$this->member     =  $this->registry->member();
	$this->memberData =& $this->registry->member()->fetchMemberData();
	$this->cache      =  $this->registry->cache();
	$this->caches     =& $this->registry->cache()->fetchCaches();
}
	/* -- deleteTopicForm --*/
function deleteTopicForm($forum, $topic) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", 'public','' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='08' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<h2 class='maintitle'>{$this->lang->words['top_delete']}: {$forum['name']} -&gt; {$topic['title']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<p class='row1 field'>{$this->lang->words['delete_topic']}</p>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['submit_delete']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;st={$this->request['st']}", 'public','' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>
</form>";
return $IPBHTML;
}

/* -- editTopicTitle --*/
function editTopicTitle($forum, $topic) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", 'public','' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='12' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<h2 class='maintitle'>{$this->lang->words['top_edit']}: {$forum['name']} &gt; {$topic['title']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['editing_topic_title']}</h3>
		<ul>
			<li class='field'>
				<label for='topic_title'>{$this->lang->words['edit_f_title']}</label>
				<input type=\"text\" size=\"40\" id='topic_title' maxlength=\"{$this->settings['topic_title_max_len']}\" name=\"TopicTitle\" value=\"{$topic['title']}\" />
			</li>
			<li class='field'>
				<label for='topic_desc'>{$this->lang->words['edit_f_desc']}</label>
				<input type=\"text\" size=\"40\" id='topic_desc' maxlength=\"70\" name=\"TopicDesc\" value=\"{$topic['description']}\" />
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['submit_edit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}", 'public','' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</form>";
return $IPBHTML;
}

/* -- editUserForm --*/
function editUserForm($profile, $custom_fields=null) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", 'public','' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='doeditmember' />
<input type='hidden' name='mid' value='{$profile['member_id']}' />
<h2 class='maintitle'>{$this->lang->words['cp_em_title']}: {$profile['members_display_name']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['edit_user_images']}</h3>
		<ul>
			<li class='field'>
				<label for='avatar'>{$this->lang->words['cp_remove_av']}</label>
				<select name=\"avatar\" id='avatar' class='input_select'>
					<option value=\"0\">{$this->lang->words['no']}</option>
					<option value=\"1\">{$this->lang->words['yes']}</option>
				</select>
			</li>
			<li class='field'>
				<label for='photo'>{$this->lang->words['cp_remove_photo']}</label>
				<select name=\"photo\" id='photo' class='input_select'>
					<option value=\"0\">{$this->lang->words['no']}</option>
					<option value=\"1\">{$this->lang->words['yes']}</option>
				</select>
			</li>
		</ul>
		" . ((count($custom_fields->out_fields)) ? ("
			<h3 class='bar'>{$this->lang->words['edit_user_profile']}</h3>
			<ul>
				<li class='field'>
					<label for='title'>{$this->lang->words['edit_user_title']}</label>
					<input type='text' class=\"input_text\" name='title' value='{$profile['title']}' />
				</li>
				<li class='field'>
					<label for='title'>{$this->lang->words['edit_user_status']}</label>
					<input type='text' class=\"input_text\" name='status' value='{$profile['pp_status']}' />
				</li>
				".$this->__f__9741b573f52c7dafde119318579d43fa($profile,$custom_fields)."			</ul>
		") : ("")) . "
		<h3 class='bar'>{$this->lang->words['cp_edit_signature']}</h3>
		{$profile['signature']}
		<h3 class='bar'>{$this->lang->words['cp_edit_aboutme']}</h3>
		{$profile['aboutme']}
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['cp_em_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$profile['member_id']}", 'public','' ), "", "" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>
</form>";
return $IPBHTML;
}


function __f__9741b573f52c7dafde119318579d43fa($profile, $custom_fields=null)
{
	$_ips___x_retval = '';
	foreach( $custom_fields->out_fields as $id => $data )
	{
		
		$_ips___x_retval .= "
					<li class='field'>
						<label for='field_{$id}'>{$custom_fields->field_names[ $id ]}</label>
						{$data}<br />
						" . (($custom_fields->field_desc[ $id ]) ? ("
							<span class='desc'>{$custom_fields->field_desc[ $id ]}</span>
						") : ("")) . "
					</li>
				
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- mergePostForm --*/
function mergePostForm($editor, $dates, $authors, $uploads, $seoTitle) {
$IPBHTML = "";

$selectedPids	= implode( ',', $this->request['selectedpids'] );
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("moderate", "0" ) . "
<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", 'public','' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='postchoice' />".$this->__f__d4e4ca6c76e7ecac532b31291397a162($editor,$dates,$authors,$uploads,$seoTitle)."<input type=\"hidden\" name=\"t\" value=\"{$this->request['t']}\" />
<input type=\"hidden\" name=\"f\" value=\"{$this->request['f']}\" />
<input type='hidden' name='tact' value='merge' />
<input type='hidden' name='checked' value='1' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<p class='message'>{$this->lang->words['merge_select']}</p>
<h2 class='maintitle'>{$this->lang->words['cm_title']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['post_options']}</h3>
		<ul>
			<li class='field'>
				<label for='post_date'>{$this->lang->words['cm_post']}</label>
				<select name=\"postdate\" class=\"input_select\" id='post_date'>
					" . ((is_array($dates) AND count($dates)) ? ("
						".$this->__f__29646288a2609b5e596c26e42aa56fa5($editor,$dates,$authors,$uploads,$seoTitle)."					") : ("")) . "
				</select>
			</li>
			<li class='field'>
				<label for='post_author'>{$this->lang->words['cm_author']}</label>
				<select name=\"postauthor\" class=\"input_select\" id='post_author'>
					" . ((is_array($authors) AND count($authors)) ? ("
						".$this->__f__5ed6a75b3e37d36034c280c2b5c168c8($editor,$dates,$authors,$uploads,$seoTitle)."					") : ("")) . "
				</select>
			</li>
		</ul>
		<h3 class='bar'>{$this->lang->words['post_content']}</h3>
		{$editor}
	</fieldset>
	<!--SKINNOTE: This wasn't skinned - did my best to match it to the rest of the IPB style, but might want to touch it up-->
	" . ((count($uploads)) ? ("
		<fieldset>
			<h3 class='bar'>{$this->lang->words['cm_attach']}</h3>
			<h4>{$this->lang->words['cm_attach2']}<h4>
			<table>
				".$this->__f__f6db70acf689ea8d5b70cec41574d16f($editor,$dates,$authors,$uploads,$seoTitle)."			</table>
		</fieldset>
	") : ("")) . "
	<fieldset class='submit'>
				<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['cm_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$this->request['t']}&amp;selectedpids={$selectedPids}", 'public','' ), "{$seoTitle}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>
</form>";
return $IPBHTML;
}


function __f__d4e4ca6c76e7ecac532b31291397a162($editor, $dates, $authors, $uploads, $seoTitle)
{
	$_ips___x_retval = '';
	foreach( $this->request['selectedpids'] as $pid )
	{
		
		$_ips___x_retval .= "
	<input type=\"hidden\" name=\"selectedpids[]\" value=\"{$pid}\" />

";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

function __f__29646288a2609b5e596c26e42aa56fa5($editor, $dates, $authors, $uploads, $seoTitle)
{
	$_ips___x_retval = '';
	foreach( $dates as $date )
	{
		
		$_ips___x_retval .= "
							<option value='{$date[0]}'>{$date[1]}</option>
						
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

function __f__5ed6a75b3e37d36034c280c2b5c168c8($editor, $dates, $authors, $uploads, $seoTitle)
{
	$_ips___x_retval = '';
	foreach( $authors as $author )
	{
		
		$_ips___x_retval .= "
							<option value='{$author[0]}'>{$author[1]}</option>
						
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

function __f__f6db70acf689ea8d5b70cec41574d16f($editor, $dates, $authors, $uploads, $seoTitle)
{
	$_ips___x_retval = '';
	foreach( $uploads as $attach )
	{
		
		$_ips___x_retval .= "
					<tr>
						<td width=\"1%\">
							<select name=\"attach_{$attach['attach_id']}\" class=\"input_select\">
								<option value=\"keep\">{$this->lang->words['cm_keep']}</option>
								<option value=\"delete\">{$this->lang->words['cm_delete']}</option>
							</select>
						</td>
						<td width=\"1%\"><img src=\"{$this->settings['public_dir']}{$attach['image']}\" alt=\"{$this->lang->words['cm_attach_alt']}\" /></td>
						<td width=\"15%\" nowrap=\"nowrap\">{$attach['size']}</td>
						<td width=\"95%\"><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=attach&amp;section=attach&amp;attach_id={$attach['attach_id']}", 'public','' ), "", "" ) . "\" title=\"{$this->lang->words['cm_attach_title']}\">{$attach['attach_file']}</a> #{$attach['attach_rel_id']}</td>
					</tr>
				
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- mergeTopicsForm --*/
function mergeTopicsForm($forum, $topic) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", 'public','' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='61' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<h2 class='maintitle'>{$this->lang->words['mt_top']}: {$forum['name']} &gt; {$topic['title']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['merge_topic_options']}</h3>
		<ul>
			<li class='field'>
				<label for='new_title'>{$this->lang->words['mt_new_title']}</label>
				<input type=\"text\" id='new_title' class='input_text' size=\"40\" maxlength=\"250\" name=\"title\" value=\"{$topic['title']}\" />
			</li>
			<li class='field'>
				<label for='new_desc'>{$this->lang->words['mt_new_desc']}</label>
				<input type=\"text\" id='new_desc' class='input_text' size=\"40\" maxlength=\"250\" name=\"desc\" value=\"{$topic['description']}\" />
			</li>
			<li class='field'>
				<label for='topic_url'>{$this->lang->words['mt_tid']}</label>
				<input type=\"text\" id='topic_url' class='input_text' size=\"40\" name=\"topic_url\" value=\"\" />
				<span class='desc'>{$this->lang->words['mt_tid_desc']}</span>
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['mt_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}", 'public','' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>
</form>";
return $IPBHTML;
}

/* -- movePostForm --*/
function movePostForm($forum, $topic, $posts, $error='') {
$IPBHTML = "";

$selectedPids	= implode( ',', $this->request['selectedpids'] );
$IPBHTML .= "" . (($error) ? ("
	<p class=\"message error\">{$error}</p>
") : ("")) . "
" . $this->registry->getClass('output')->addJSModule("moderate", "0" ) . "
<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", 'public','' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='postchoice' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='tact' value='move' />
<input type='hidden' name='checked' value='1' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<h2 class='maintitle'>{$this->lang->words['cmp_title']}: {$forum['name']} -&gt; {$topic['title']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset class='row1'>
		<h3 class='bar'>{$this->lang->words['move_posts_option']}</h3>
		<ul>
			<li class='field'>
				<label for='topic_url'>{$this->lang->words['cmp_topic']}</label>
				<input type=\"text\" size=\"50\" name=\"topic_url\" value=\"\" id='topic_url' class='input_text' />
				<span class='desc'>{$this->lang->words['cmp_topic2']}</span>
			</li>
		</ul>
	</fieldset>
</div>
<br />
<h2 class='maintitle'>{$this->lang->words['move_topic_summary']}</h2>
<div class='generic_bar'></div>
" . ((is_array( $posts ) AND count( $posts )) ? ("
	".$this->__f__ad572567578d4d59ad153104a2e1c0d6($forum,$topic,$posts,$error)."") : ("")) . "
<fieldset class='submit'>
		<input type=\"submit\" name=\"submit\" class='input_submit' value=\"{$this->lang->words['cmp_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;selectedpids={$selectedPids}", 'public','' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
</fieldset>
</form>";
return $IPBHTML;
}


function __f__ad572567578d4d59ad153104a2e1c0d6($forum, $topic, $posts, $error='')
{
	$_ips___x_retval = '';
	foreach( $posts as $row )
	{
		
		$_ips___x_retval .= "
		<div class='post_block topic_summary'>
			<h3>{$row['author_name']}</h3>
			<p class='posted_info'>{$this->lang->words['move_posted']} {$row['date']}</p>
			<label for='checkbox_{$row['pid']}' class='post_mod hide'>{$this->lang->words['st_split']}</label>
			<input type='checkbox' id='checkbox_{$row['pid']}' name='selectedpids[{$row['pid']}]' value='{$row['pid']}' class='post_mod' checked='checked' />
			<div class='post_body'>
				<div class='post'>{$row['post']}</div>
			</div>
		</div>
	
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- moveTopicForm --*/
function moveTopicForm($forum, $topic, $forum_jump) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", 'public','' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='14' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />

<p class='message'>{$this->lang->words['move_exp']}</p>
<br />
<h2 class='maintitle'>{$this->lang->words['top_move']}: {$forum['name']} &gt; {$topic['title']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['move_topic_options']}</h3>
		<ul>
			<li class='field'>
				<label for='move_from'>{$this->lang->words['move_from']} <strong>{$forum['name']}</strong> {$this->lang->words['to']}</label>
				<select name=\"move_id\" id='move_from' class='input_select'>{$forum_jump}</select>
			</li>
			<li class='field'>
				<label for='leave_link'>{$this->lang->words['leave_link']}</label>
				<input type='checkbox' id='leave_link' class='input_check' name='leave' value='y' />
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['submit_move']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}", 'public','' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>
</form>";
return $IPBHTML;
}

/* -- moveTopicsForm --*/
function moveTopicsForm($forum, $jump_html, $topics) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", 'public','' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='topicchoice' />
<input type='hidden' name='tact' value='domove' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<p class='message'>{$this->lang->words['move_exp']}</p>
<br />
<h2 class='maintitle'>{$this->lang->words['cp_tmove_start']} {$forum['name']}</h2>
<div class='generic_bar'></div>
<div class='post_form' id='mod_form'>
	<fieldset class='row1'>
		<h3 class='bar'>{$this->lang->words['topics_to_move']}</h3>
		<ul>
			" . ((count($topics) AND is_array($topics)) ? ("
				".$this->__f__c7110e3e5b9bd166c55fe1eb22a0575a($forum,$jump_html,$topics)."			") : ("")) . "
		</ul>
	</fieldset>
	<fieldset class='row1'>
		<h3 class='bar'>{$this->lang->words['move_topic_options']}</h3>
		<ul>
			<li class='field'>
				<label for='move_from'>{$this->lang->words['move_from']} <strong>{$forum['name']}</strong> {$this->lang->words['to']}</label>
				<select name=\"df\" id='move_from' class='input_select'>{$jump_html}</select>
			</li>
			<li class='field'>
				<label for='leave_link'>{$this->lang->words['leave_link']}</label>
				<input type='checkbox' id='leave_link' class='input_check' name='leave' value='y' />
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['submit_move']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum['id']}", 'public','' ), "{$forum['name_seo']}", "showforum" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
</div>
</form>";
return $IPBHTML;
}


function __f__c7110e3e5b9bd166c55fe1eb22a0575a($forum, $jump_html, $topics)
{
	$_ips___x_retval = '';
	foreach( $topics as $row )
	{
		
		$_ips___x_retval .= "
					<li class='field checkbox'>
						<input class='input_check' type=\"checkbox\" name=\"selectedtids[{$row['tid']}]\" id='t_{$row['tid']}' value=\"{$row['tid']}\" checked=\"checked\" />
						<label for='t_{$row['tid']}'>{$row['title']}</label>
					</li>
				
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- pruneSplash --*/
function pruneSplash($forum="", $forums_html="", $confirm_data="", $complete_html="") {
$IPBHTML = "";
$IPBHTML .= "" . (($complete_html != '') ? ("
	{$complete_html}<br />
") : ("")) . "
	
<h2 class='maintitle'>{$this->lang->words['cp_prune']} {$forum['name']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	" . (($confirm_data['show'] == 1) ? ("
		<fieldset>
			<h3 class='bar'>{$this->lang->words['mpt_confirm']} : {$this->lang->words['cp_check_result']}</h3>
			
			<ul>
				<li class='field'>
					<label>{$this->lang->words['cp_total_topics']}</label>
					{$confirm_data['tcount']}
				</li>
				<li class='field'>
					<label>{$this->lang->words['cp_total_match']}</label>
					{$confirm_data['count']}
				</li>
			</ul>
		</fieldset>
	
		<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$confirm_data['link']}", 'public','' ), "", "" ) . "' method=\"post\">
		<input type=\"hidden\" name=\"auth_key\" value=\"{$this->member->form_hash}\" />
		<fieldset class='submit'>
			<input type=\"submit\" class='input_submit' value=\"{$confirm_data['link_text']}\" />
		</fieldset>
		</form>
		
	") : ("")) . "
	<form id='postingform' action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "", 'public','' ), "", "" ) . "\" method=\"post\">
	<input type=\"hidden\" name=\"app\" value=\"forums\" />
	<input type=\"hidden\" name=\"module\" value=\"moderate\" />
	<input type=\"hidden\" name=\"section\" value=\"moderate\" />
	<input type=\"hidden\" name=\"do\" value=\"prune_start\" />
	<input type=\"hidden\" name=\"f\" value=\"{$forum['id']}\" />
	<input type=\"hidden\" name=\"auth_key\" value=\"{$this->member->form_hash}\" />
	<input type=\"hidden\" name=\"check\" value=\"1\" />
	<fieldset>
		<h3 class='bar'>{$this->lang->words['mpt_help']}</h3>
		<p>{$this->lang->words['cp_prune_text']}</p>
		<ul>
			<li class='field'>
				<label for='df'>{$this->lang->words['cp_prune_action2']}</label>
				<select class='input_select' name=\"df\" id=\"df\">
					<option value='prune'>{$this->lang->words['cp_ac_prune']}</option>
					{$forums_html}
				</select>
			</li>
			<li class='field'>
				<label for='pergo'>{$this->lang->words['cp_per_go']}</label>
				<input class='input_text' type=\"text\" size=\"5\" name=\"pergo\" id=\"pergo\" value=\"{$this->request['pergo']}\" />
			</li>
			<li class='field'>
				<label for='entered_name'>{$this->lang->words['cp_prune_member']}</label>
				<input class='input_text' type=\"text\" size=\"30\" name=\"member\" id='entered_name' value=\"{$this->request['member']}\" />
			</li>
			<li class='field'>
				<label for='dateline'>{$this->lang->words['cp_prune_days2']}</label>
				<input class='input_text' type=\"text\" size=\"5\" name=\"dateline\" id=\"dateline\" value=\"{$this->request['dateline']}\" />
			</li>
			<li class='field'>
				<label for='posts'>{$this->lang->words['cp_prune_replies']}</label>
				<input class='input_text' type=\"text\" size=\"5\" name=\"posts\" id=\"posts\" value=\"{$this->request['posts']}\" />
			</li>
			<li class='field'>
				<label for='topic_type'>{$this->lang->words['cp_prune_type']}</label>
				<select class='input_select' name='topic_type' id=\"topic_type\">
					".$this->__f__59cbe90050181ddd5ac090962e5561c6($forum,$forums_html,$confirm_data,$complete_html)."				</select>
			</li>
			<li class='field'>
				<label for='cbox'>{$this->lang->words['mps_ignorepin']}</label>
				<input class='input_check' type=\"checkbox\" id=\"cbox\" name=\"ignore_pin\" value=\"1\" checked=\"checked\" />
			</li>
			<li class='field'>
				<span class='desc'>{$this->lang->words['cp_optional']}</span>
			</li>
		</ul>
	</fieldset>
	<fieldset class='submit'>
		<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['cp_prune_sub1']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum['id']}", 'public','' ), "{$forum['name_seo']}", "showforum" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
	</fieldset>
	</form>
</div>";
return $IPBHTML;
}


function __f__59cbe90050181ddd5ac090962e5561c6($forum="", $forums_html="", $confirm_data="", $complete_html="")
{
	$_ips___x_retval = '';
	foreach( array( 'open', 'closed', 'link', 'all' ) as $type )
	{
		
		$_ips___x_retval .= "
						<option value='{$type}'" . (($this->request['topic_type'] == $type) ? (" selected='selected'") : ("")) . ">{$this->lang->words[ 'cp_pday_' . $type ]}</option>
					
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- simplePage --*/
function simplePage($title="", $msg="") {
$IPBHTML = "";
$IPBHTML .= "<h2>{$title}</h2>
<div class='general_box'>
	{$msg}
</div>";
return $IPBHTML;
}

/* -- splitPostForm --*/
function splitPostForm($forum, $topic, $posts, $jump) {
$IPBHTML = "";

$selectedPids	= implode( ',', $this->request['selectedpids'] );
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("moderate", "0" ) . "
<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", 'public','' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='postchoice' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='tact' value='split' />
<input type='hidden' name='checked' value='1' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<p class='message'>{$this->lang->words['st_explain']}</p>
<h2 class='maintitle'>{$this->lang->words['st_top']}: {$forum['name']} &gt; {$topic['title']}</h2>
<div class='generic_bar'></div>
<div class='post_form'>
	<fieldset>
		<h3 class='bar'>{$this->lang->words['st_new_topic']}</h3>
		<ul>
			<li class='field'>
				<label for='new_title'>{$this->lang->words['mt_new_title']}</label>
				<input type=\"text\" size=\"40\" class='input_text' id='new_title' maxlength=\"100\" name=\"title\" value=\"\" />
			</li>
			<li class='field'>
				<label for='new_desc'>{$this->lang->words['mt_new_desc']}</label>
				<input type=\"text\" size=\"40\" class='input_text' id='new_desc' maxlength=\"100\" name=\"desc\" value=\"\" />
			</li>
			<li class='field'>
				<label for='new_forum'>{$this->lang->words['st_forum']}</label>
				<select name=\"fid\" id='new_forum' class='input_select'>{$jump}</select>
			</li>
		</ul>
	</fieldset>
</div>
<br />
<h2 class='maintitle'>{$this->lang->words['st_post']}</h2>
<div class='generic_bar'></div>
" . ((is_array( $posts ) AND count( $posts )) ? ("
	".$this->__f__21a3bd536f4c07a3bdf55af8b9a9b0d4($forum,$topic,$posts,$jump)."") : ("")) . "
<fieldset class='submit'>
		<input type=\"submit\" name=\"submit\" class='input_submit' value=\"{$this->lang->words['st_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;selectedpids={$selectedPids}", 'public','' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
</fieldset>
</form>";
return $IPBHTML;
}


function __f__21a3bd536f4c07a3bdf55af8b9a9b0d4($forum, $topic, $posts, $jump)
{
	$_ips___x_retval = '';
	foreach( $posts as $row )
	{
		
		$_ips___x_retval .= "
		<div class='post_block topic_summary'>
			<h3>{$row['author_name']}</h3>
			<p class='posted_info'>{$this->lang->words['move_posted']} {$row['date']}</p>
			<label for='checkbox_{$row['pid']}' class='post_mod hide'>{$this->lang->words['st_split']}</label>
			<input type='checkbox' id='checkbox_{$row['pid']}' name='selectedpids[{$row['pid']}]' value='{$row['pid']}' class='post_mod' checked='checked' />
			<div class='post_body'>
				<div class='post'>{$row['post']}</div>
			</div>
		</div>
	
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- topicHistory --*/
function topicHistory($topic, $avg_post, $mod_logs=array()) {
$IPBHTML = "";

$this->registry->templateStriping['modlogs'] = array( FALSE, "row1","row2");
$IPBHTML .= "<h2 class='maintitle'>{$this->lang->words['th_title']}</h2>
<table class='ipb_table' summary=\"{$this->lang->words['topic_history_summary']} '{$topic['title']}'\">
	<tr class='header'>
		<th scope='col' style='width: 40%'>{$this->lang->words['summary_th_title']}</th>
		<th scope='col' style='width: 60%'>{$this->lang->words['summary_th_info']}</th>
	</tr>
	<tr class='row1'>
		<td class='altrow'>{$this->lang->words['th_topic']}</td>
		<td>{$topic['title']}</td>
	</tr>
	<tr class='row2'>
		<td class='altrow'>{$this->lang->words['th_desc']}</td>
		<td>{$topic['description']}</td>
	</tr>
	<tr class='row1'>
		<td class='altrow'>{$this->lang->words['th_start_date']}</td>
		<td>" . $this->registry->getClass('class_localization')->getDate($topic['start_date'],"long", 0) . "</td>
	</tr>
	<tr class='row2'>
		<td class='altrow'>{$this->lang->words['th_start_name']}</td>
		<td>
			" . (($topic['starter_id']) ? ("
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$topic['starter_id']}", 'public','' ), "{$topic['seo_first_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'>{$topic['starter_name']}</a>" . $this->registry->getClass('output')->getTemplate('global')->user_popup($topic['starter_id'],$topic['seo_first_name']) . "
			") : ("
				{$topic['starter_name']}
			")) . "
		</td>
	</tr>
	<tr class='row1'>
		<td class='altrow'>{$this->lang->words['th_last_date']}</td>
		<td>" . $this->registry->getClass('class_localization')->getDate($topic['last_post'],"long", 0) . "</td>
	</tr>
	<tr class='row2'>
		<td class='altrow'>{$this->lang->words['th_last_name']}</td>
		<td>
			" . (($topic['last_poster_id']) ? ("
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$topic['last_poster_id']}", 'public','' ), "{$topic['seo_last_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'>{$topic['last_poster_name']}</a>" . $this->registry->getClass('output')->getTemplate('global')->user_popup($topic['last_poster_id'],$topic['seo_last_name']) . "
			") : ("
				{$topic['last_poster_name']}
			")) . "
		</td>
	</tr>
	<tr class='row1'>
		<td class='altrow'>{$this->lang->words['th_avg_post']}</td>
		<td>{$avg_post}</td>
	</tr>
</table>
<br />
<h2 class='maintitle'>{$this->lang->words['ml_title']}</h2>
<table class='ipb_table' summary=\"{$this->lang->words['mod_logs_topic_summary']} '{$topic['title']}'\">
	<tr class='header'>
		<th scope='col' style='width: 25%'>{$this->lang->words['ml_name']}</th>
		<th scope='col' style='width: 50%'>{$this->lang->words['ml_desc']}</th>
		<th scope='col' style='width: 25%'>{$this->lang->words['ml_date']}</th>
	</tr>
	" . ((!count($mod_logs) OR !is_array($mod_logs)) ? ("
		<tr>
			<td class=\"no_messages\" colspan=\"3\">{$this->lang->words['ml_none']}</td>
		</tr>
	") : ("
				".$this->__f__fa5f1a63dae8d29609255e0012afeaa5($topic,$avg_post,$mod_logs)."	")) . "
</table>";
return $IPBHTML;
}


function __f__fa5f1a63dae8d29609255e0012afeaa5($topic, $avg_post, $mod_logs=array())
{
	$_ips___x_retval = '';
	foreach( $mod_logs as $data )
	{
		
		$_ips___x_retval .= "
			<tr class='" .  IPSLib::next( $this->registry->templateStriping["modlogs"] ) . "'>
				<td class='altrow'>
					" . (($data['member_id']) ? ("
						<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$data['member_id']}", 'public','' ), "{$data['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'>{$data['member_name']}</a>" . $this->registry->getClass('output')->getTemplate('global')->user_popup($data['member_id'],$data['members_seo_name']) . "
					") : ("
						{$data['member_name']}
					")) . "
				</td>
				<td>{$data['action']}</td>
				<td class=\"altrow\">" . $this->registry->getClass('class_localization')->getDate($data['ctime'],"long", 0) . "</td>
			</tr>
		
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- unsubscribeForm --*/
function unsubscribeForm($forum, $topic, $text) {
$IPBHTML = "";
$IPBHTML .= "<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=moderate&amp;section=moderate", 'public','' ), "", "" ) . "' method='post'>
<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
<input type='hidden' name='do' value='31' />
<input type='hidden' name='t' value='{$topic['tid']}' />
<input type='hidden' name='f' value='{$forum['id']}' />
<input type='hidden' name='st' value='{$this->request['st']}' />
<h2>{$this->lang->words['ts_title']}: {$forum['name']} &gt; {$topic['title']}</h2>
<p class='message'>{$text}</p>
<br />
<fieldset class='submit'>
	<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['ts_submit']}\" /> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}", 'public','' ), "{$topic['title_seo']}", "showtopic" ) . "' title='{$this->lang->words['cancel']}' class='cancel'>{$this->lang->words['cancel']}</a>
</fieldset>
</form>";
return $IPBHTML;
}

/* -- warn_add_note_form --*/
function warn_add_note_form($id="",$name="",$seo_name="") {
$IPBHTML = "";
$IPBHTML .= "<form method=\"post\" action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=warn&amp;section=warn&amp;do=save_note&amp;mid={$id}", 'public','' ), "", "" ) . "\" id='postingform'>
	<input type='hidden' name='popup' value='{$this->request['popup']}' />
	<h2 class='maintitle'>{$this->lang->words['mod_warn_new_note']} <a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$id}", 'public','' ), "{$seo_name}", "showuser" ) . "\" title='{$this->lang->words['view_profile']}'>{$name}</a></h2>
	<div class='generic_bar'></div>
	<div class='post_form'>
		<fieldset class='row1'>
			<h3 class='bar'>{$this->lang->words['mod_warn_fieldset']}</h3>
			<ul>
				<li class='field'>
					<textarea name='note' style='width: 95%; height:150px'>{$_POST['note']}</textarea>
				</li>
			</ul>
		</fieldset>
		<fieldset class='submit'>
			<input type='submit' class='input_submit' value='{$this->lang->words['mod_warn_note_save']}' />
		</fieldset>
	</div>
</form>";
return $IPBHTML;
}

/* -- warn_success --*/
function warn_success($topic=array()) {
$IPBHTML = "";
$IPBHTML .= "<h2>{$this->lang->words['w_done_t']}</h2>
<div class='message'>
	{$this->lang->words['w_done_te']}
	<br /><br />
	
	<ul class='bullets'>
		<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "", 'public','' ), "", "" ) . "\">{$this->lang->words['w_done_home']}</a></li>
		" . (($topic['tid']) ? ("
			<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$topic['id']}", 'public','' ), "{$topic['name_seo']}", "showforum" ) . "\">{$this->lang->words['w_done_forum']} <b>{$topic['name']}</b></a></li>
			<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$topic['tid']}&amp;st={$this->request['st']}", 'public','' ), "{$topic['title_seo']}", "showtopic" ) . "\">{$this->lang->words['w_done_topic']} <b>{$topic['title']}</b></a></li>
		") : ("")) . "
	</ul>
</div>
<br />";
return $IPBHTML;
}

/* -- warn_view_log --*/
function warn_view_log($member, $rows, $links='') {
$IPBHTML = "";

$this->registry->templateStriping['modlog'] = array( FALSE, "row2","row1");
$IPBHTML .= "" . (($this->request['module']=='ajax') ? ("
		<h3>{$this->lang->words['w_v_title']}: <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}", 'public','' ), "{$member['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'>{$member['members_display_name']}</a></h3>
	") : ("
		<h3 class='maintitle'>{$this->lang->words['w_v_title']}: <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}", 'public','' ), "{$member['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'>{$member['members_display_name']}</a></h3>
	")) . "
	<table class='ipb_table'>
		<tr class='header'>
			<th scope='col'>{$this->lang->words['w_v_warnby']}</th>
			<th scope='col'>{$this->lang->words['w_v_notes']}</th>
		</tr>
		" . ((!is_array($rows) OR !count($rows)) ? ("
			<tr>
				<td class=\"no_messages\" colspan=\"2\">{$this->lang->words['w_v_none']}</td>
			</tr>
		") : ("
						".$this->__f__99873b07e7e4f9fc295ad7076be9faed($member,$rows,$links)."		")) . "
	</table>
	<div class='topic_controls'>
		{$links}
	</div>";
return $IPBHTML;
}


function __f__99873b07e7e4f9fc295ad7076be9faed($member, $rows, $links='')
{
	$_ips___x_retval = '';
	foreach( $rows as $r )
	{
		
		$_ips___x_retval .= "
				<tr class='" .  IPSLib::next( $this->registry->templateStriping["modlog"] ) . "'>
					<td><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$r['punisher_id']}", 'public','' ), "{$r['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'><strong>{$r['punisher_name']}</strong></a></td>
					<td>{$this->lang->words['mod_warn_added']} <strong>" . $this->registry->getClass('class_localization')->getDate($r['wlog_date'],"long", 1) . "</strong></td>
				</tr>
				<tr class='" .  IPSLib::next( $this->registry->templateStriping["modlog"] ) . "'>
					<td>
						<span class=\"" . (($r['wlog_type'] == 'note' OR $r['wlog_type'] == 'pos') ? ("positive") : ("negative")) . "\" " . (($r['wlog_type'] == 'note' || $r['wlog_type'] == 'nochan') ? ("style='color:gray'") : ("")) . ">
							" . (($r['wlog_type'] == 'note') ? ("
								{$this->lang->words['mod_warn_note']}
							") : ("" . (($r['wlog_type'] == 'pos') ? ("
									{$this->lang->words['w_v_minus']}
								") : ("")) . "
								" . (($r['wlog_type'] == 'neg') ? ("
									{$this->lang->words['w_v_add']}
								") : ("")) . "
								" . (($r['wlog_type'] == 'nochan') ? ("
									{$this->lang->words['w_v_nochan']}
								") : ("")) . "")) . "
						</span>
					</td>
					<td>{$r['content']}</td>
				</tr>
			
";
	}
	$_ips___x_retval .= '';
	return $_ips___x_retval;
}

/* -- warnForm --*/
function warnForm($member, $tid=0, $st=0, $errors='', $modque=false, $postque=false, $ban=false, $editor_html='') {
$IPBHTML = "";

$mod_arr	= array( 'timespan' => 0, 'days' => 0, 'hours' => 0 );
			$mhours		= 0;
			
			if( $member['mod_posts'] > 0 AND $member['mod_posts'] != 1 )
			{
				$mod_arr	= IPSMember::processBanEntry( $member['mod_posts'] );
				$mhours		= ceil( ( $mod_arr['date_end'] - time() ) / 3600 );
			}

$post_arr	= array( 'timespan' => 0, 'hours' => 0, 'days' => 0 );
			$phours		= 0;
			
			if( $member['restrict_post'] > 0 AND $member['restrict_post'] != 1 )
			{
				$post_arr	= IPSMember::processBanEntry( $member['restrict_post'] );
				$phours		= ceil( ( $post_arr['date_end'] - time() ) / 3600 );
			}

$ban_arr	= array( 'timespan' => 0, 'days' => 0, 'hours' => 0 );
			$hours		= 0;
			
			if( $member['temp_ban'] AND $member['temp_ban'] != 1 )
			{
				$ban_arr	= IPSMember::processBanEntry( $member['temp_ban'] );
				$hours		= ceil( ( $ban_arr['date_end'] - time() ) / 3600 );
			}
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("profile", "0" ) . "
<script type='text/javascript'>
	ipb.profile.viewingProfile = {$member['member_id']};
</script>
" . (($errors) ? ("
	<h2>{$this->lang->words['errors_found']}</h2>
	<p class='message error'>{$errors}</p>
	<br />
") : ("")) . "
<!-- SKINNOTE: form validation -->
<form method=\"post\" action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=warn&amp;section=warn&amp;do=dowarn&amp;mid={$member['member_id']}&amp;t={$tid}&amp;st={$st}&amp;type={$this->request['type']}", 'public','' ), "", "" ) . "' id='postingform'>
<input type=\"hidden\" name=\"key\" value=\"{$this->member->form_hash}\" />
<div class='post_form'>
<h2 class='maintitle'>{$this->lang->words['warn_logs_for']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}", 'public','' ), "{$member['members_display_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'>{$member['members_display_name']}</a></h2>
<div class='generic_bar'></div>
<fieldset class='with_subhead'>
	<h3 class='bar'>{$this->lang->words['warn_member_details']}</h3>
	<h4>
		<img class=\"photo\" src='{$member['pp_main_photo']}' alt=\"{$member['members_display_name']}{$this->lang->words['users_photo']}\" />
	</h4>
	<ul>
		<li class='field'>
			" . $this->registry->getClass('output')->getReplacement("find_posts_link") . " <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_posts&amp;mid={$member['member_id']}" . ((! in_array( $this->settings['search_method'], array( 'traditional', 'sphinx' ) )) ? ("&amp;search_filter_app[forums]=1") : ("")) . "", 'public','' ), "", "" ) . "'>{$this->lang->words['find_posts']}</a>
		</li>
		<li class='field'>
			" . $this->registry->getClass('output')->getReplacement("find_topics_link") . " <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_posts&amp;mid={$member['member_id']}&amp;search_filter_app[forums]=1&amp;view_by_title=1", 'public','' ), "", "" ) . "'>{$this->lang->words['find_topics']}</a>
		</li>
		" . (($this->memberData['g_mem_info'] && $this->settings['auth_allow_dnames']) ? ("
			<li class='field' id='dname_history'>
				" . $this->registry->getClass('output')->getReplacement("display_name") . " <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=dname&amp;id={$member['member_id']}", 'public','' ), "", "" ) . "' title='{$this->lang->words['view_dname_history']}'>{$this->lang->words['display_history']}</a>
			</li>
		") : ("")) . "
		" . (($this->settings['reputation_enabled']) ? ("<li class='field'>
				{$this->lang->words['warn_rep']} {$member['pp_reputation_points']}
				" . (($member['author_reputation'] && $member['author_reputation']['text']) ? ("
					<p class='title'>{$member['author_reputation']['text']}</p>
				") : ("")) . "
				" . (($member['author_reputation'] && $member['author_reputation']['image']) ? ("
					<p class='image'>{$member['author_reputation']['image']}</p>
				") : ("")) . "
			</li>") : ("")) . "
	</ul>
</fieldset>
<fieldset class='with_subhead'>
	<h3 class='bar'>{$this->lang->words['warn_details']}</h3>
	<h4>{$this->lang->words['w_adjust_level']}<br /><span class='desc'>{$this->lang->words['warn_current_level']} {$member['warn_level']}/{$this->settings['warn_max']}</span></h4>
	<ul>
		<li class='field checkbox negative'>
			<input type=\"radio\" name=\"level\" id=\"add\" class=\"input_radio\" value=\"add\" " . (($this->request['type'] == 'add') ? ("checked='checked'") : ("")) . " />
			<label for='add'>{$this->lang->words['w_add']}</label>
		</li>
		<li class='field checkbox positive'>
			<input type=\"radio\" name=\"level\" id=\"minus\" class=\"input_radio\" value=\"remove\" " . (($this->request['type'] == 'minus') ? ("checked='checked'") : ("")) . " />
			<label for='minus'>{$this->lang->words['w_remove']}</label>
		</li>	
		" . (($this->memberData['g_is_supmod']) ? ("<li class='field checkbox custom'>
				<input type=\"radio\" name=\"level\" id=\"custom\" class=\"input_radio\" value=\"custom\" " . (($this->request['type'] == 'custom') ? ("checked='checked'") : ("")) . " />
				<label for='level_custom'>" . sprintf( $this->lang->words['w_change_custom'], $this->settings['warn_max']) . "</label>
				 <input type='text' id='level_custom' name='level_custom' value='" . ((isset($this->request['customLevel'])) ? ("{$this->request['customLevel']}") : ("{$member['warn_level']}")) . "' size='3' />
			</li>") : ("")) . "
		<li class='field checkbox'>
			<input type=\"radio\" name=\"level\" id=\"nochange\" class=\"input_radio\" value=\"nochange\" " . (($this->request['type'] == 'nochange') ? ("checked='checked'") : ("")) . " />
			<label for='nochange'>{$this->lang->words['w_nochange']}</label>
		</li>		
	</ul>
	<h4>{$this->lang->words['w_reason']}<br /><span class='desc'>{$this->lang->words['w_reason2']}</span></h4>
	<ul>
		<li class='field'>
			<textarea rows=\"6\" cols=\"70\" class=\"input_text\" name=\"reason\">" . IPSText::br2nl( $this->request['reason'] ) . "</textarea>
		</li>
	</ul>
</fieldset>
<fieldset class='with_subhead'>
	<h3 class='bar'>{$this->lang->words['member_suspension']}</h3>
	" . (($modque == true) ? ("		<h4>{$this->lang->words['w_modq']}</h4>
		<ul>
			<li class='field checkbox'>
				<input class='input_check' id='modq' type=\"checkbox\" name=\"mod_indef\" value=\"1\" " . (($member['mod_posts'] == 1) ? ("checked='checked'") : ("")) . " />
				<label for='modq'>{$this->lang->words['w_modq_i']}</label>
			</li>
			<li class='field checkbox'>
				<label for='mod_value'>{$this->lang->words['w_orfor']}</label>
				<input class='input_text' type=\"text\" id='mod_value' name=\"mod_value\" value=\"" . (($mhours > 24 and ( ($mhours / 24) == ceil($mhours / 24) ) and $timespan = ($mhours / 24)) ? ("{$timespan}") : ("{$mhours}")) . "\" size=\"5\" />&nbsp;
				<select name=\"mod_unit\" class='input_select'>
					<option value=\"d\" " . (($mhours > 24 and ( ($mhours / 24) == ceil($mhours / 24) )) ? ("selected='selected'") : ("")) . ">{$this->lang->words['w_day']}</option>
					<option value=\"h\" " . (($mhours < 24 or ( ($mhours / 24) != ceil($mhours / 24) )) ? ("selected='selected'") : ("")) . ">{$this->lang->words['w_hour']}</option>
				</select>
				" . (($mhours > 0) ? ("
					<span class='desc'>{$this->lang->words['w_restricted']}</span>
				") : ("")) . "
			</li>
		</ul>") : ("")) . "
	" . (($postque == true) ? ("		<h4>{$this->lang->words['w_resposts']}</h4>
		<ul>
			<li class='field checkbox'>
				<input class='input_check' id='restrict_posts' type=\"checkbox\" name=\"post_indef\" value=\"1\" " . (($member['restrict_post'] == 1) ? ("checked='checked'") : ("")) . " />
				<label for='restrict_posts'>{$this->lang->words['w_resposts_i']}</label>
			</li>
			<li class='field checkbox'>
				<label for='post_value'>{$this->lang->words['w_orfor']}</label>
				<input class='input_text' type=\"text\" id='post_value' name=\"post_value\" value=\"" . (($phours > 24 and ( ($phours / 24) == ceil($phours / 24) ) and $timespan = ($phours / 24)) ? ("{$timespan}") : ("{$phours}")) . "\" size=\"5\" />&nbsp;
				<select name=\"post_unit\" class='input_select'>
					<option value=\"d\" " . (($phours > 24 and ( ($phours / 24) == ceil($phours / 24) )) ? ("selected='selected'") : ("")) . ">{$this->lang->words['w_day']}</option>
					<option value=\"h\" " . (($phours < 24 or ( ($phours / 24) != ceil($phours / 24) )) ? ("selected='selected'") : ("")) . ">{$this->lang->words['w_hour']}</option>
				</select>
				" . (($phours > 0) ? ("
					<span class='desc'>{$this->lang->words['w_restricted']}</span>
				") : ("")) . "
			</li>
		</ul>") : ("")) . "
	" . (($ban == true) ? ("		<h4>{$this->lang->words['w_suspend']}</h4>
		<ul>
			<li class='field checkbox'>
				<input class='input_check' id='suspend_member' type=\"checkbox\" name=\"ban_indef\" value=\"1\" " . (($member['member_banned'] == 1) ? ("checked='checked'") : ("")) . " />
				<label for='suspend_member'>{$this->lang->words['w_ban_indef']}</label>
			</li>
			<li class='field checkbox'>
				<label for='susp_value'>{$this->lang->words['w_suspend_or']}</label>
				<input type=\"text\" id='susp_value' class='input_text' name=\"susp_value\" value=\"" . (($hours > 24 and ( ($hours / 24) == ceil($hours / 24) ) and $timespan = ($hours / 24)) ? ("{$timespan}") : ("{$hours}")) . "\" size=\"5\" />
				<select name=\"susp_unit\" class='input_select'>
					<option value=\"d\" " . (($hours > 24 and ( ($hours / 24) == ceil($hours / 24) )) ? ("selected='selected'") : ("")) . ">{$this->lang->words['w_day']}</option>
					<option value=\"h\" " . (($hours < 24 or ( ($hours / 24) != ceil($hours / 24) )) ? ("selected='selected'") : ("")) . ">{$this->lang->words['w_hour']}</option>
				</select>
				" . (($member['temp_ban']) ? ("
					<span class='desc'>{$this->lang->words['w_restricted']}</span>
				") : ("")) . "
			</li>
		</ul>") : ("")) . "
</fieldset>
<fieldset class='with_subhead'>
	<h3 class='bar'>{$this->lang->words['warn_mem_content']}</h3>
	<h4>{$this->lang->words['warn_posts_topics']}</h4>
	<ul>
		<li class='field checkbox'>
			<select name=\"topicPosts_type\" class='input_select'>
				<option value='unapprove' " . (($this->request['topicPosts_type'] == 'unapprove') ? ("selected='selected'") : ("")) . ">{$this->lang->words['warn_stuff_unapprove']}</option>
				<option value='approve' " . (($this->request['topicPosts_type'] == 'approve') ? ("selected='selected'") : ("")) . ">{$this->lang->words['warn_stuff_approve']}</option>
			</select>
		</li>
		<li class='field checkbox'>
			<input type=\"checkbox\" id='topicPosts_topics' class='input_check' name=\"topicPosts_topics\" value=\"1\" />
			<label for='topicPosts_topics'>{$this->lang->words['warn_stuff_alltopics']}</label>
		</li>
		<li class='field checkbox'>
			<input type=\"checkbox\" id='topicPosts_replies' class='input_check' name=\"topicPosts_replies\" value=\"1\" />
			<label for='topicPosts_replies'>{$this->lang->words['warn_stuff_allposts']}</label>
		</li>
		<li class='field checkbox'>
			<label for='topicPosts_lastx'>{$this->lang->words['warn_stuff_datecutoff']}</label>
			<input type=\"text\" id='topicPosts_lastx' class='input_text' name=\"topicPosts_lastx\" value=\"\" size=\"5\" />
			<select name=\"topicPosts_lastxunits\" class='input_select'>
				<option value=\"d\">{$this->lang->words['w_day']}</option>
				<option value=\"h\">{$this->lang->words['w_hour']}</option>
			</select>
		</li>
	</ul>
</fieldset>
<fieldset>
	<h3 class='bar'>{$this->lang->words['warn_contact_member']}</h3>
	<ul>
		<li class='field'>
			<label for='subj'>{$this->lang->words['w_c_subj']}</label>
			<input id='subj' class='input_text' type=\"text\" name=\"subject\" value=\"{$this->request['subject']}\" size=\"30\" />
		</li>
		<li class='field'>
			<label for='method'>{$this->lang->words['w_c']}</label>
			<select id='method' name=\"contactmethod\" class='input_select'>
				" . (($member['members_disable_pm'] != 1) ? ("
					<option value=\"pm\">{$this->lang->words['w_c_p']}</option>
				") : ("")) . "
				<option value=\"email\">{$this->lang->words['w_c_e']}</option>
			</select>
		</li>
		<li>
			{$editor_html}
		</li>
	</ul>
</fieldset>
<fieldset class='submit'>
	<input type=\"submit\" class='input_submit' value=\"{$this->lang->words['w_submit']}\" tabindex='0'/> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$tid}&amp;st={$st}", 'public','' ), "", "" ) . "' title='{$this->lang->words['cancel']}' class='cancel' tabindex='0'>{$this->lang->words['cancel']}</a>
</fieldset>
	
</div>
</form>";
return $IPBHTML;
}

/* -- warnLogsAjaxWrapper --*/
function warnLogsAjaxWrapper($output) {
$IPBHTML = "";
$IPBHTML .= "{$output}";
return $IPBHTML;
}



}

/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>